# 时钟CLOCK

计算机执行命令，必须得有个东西驱动它去做事儿。
不然计算机怎么知道什么时候去干什么？
这个"驱动器"就是时钟。

## 时钟本质

时钟的本质就是一个可以产生固有频率的信号发生器。

## 时钟对MCU/CPU的影响

时钟每跳动一下，MCU/CPU做一个时钟的事情。
一个时钟做不完的事情，就分成多个时钟的事情。
所以，时钟影响了MCU/CPU的读取/写入的速度，也就是性能好坏。
一个稳定的时钟频率，可以让MCU中各元件的工作更加协调稳定，这是时钟存在的意义。

## 时钟频率不可以很快

因为电阻，电容等器件，都是需要时间来转换状态的。
不同的设计方式，最大的频率是不同的。
我们不关注这物理层面的事情，只要不要超频太多一般没事。

## 时钟周期，机器周期，指令周期

**时钟周期**
就是上面所说的信号发生器的周期，是所有周期中最基本，最快的。
**机器周期**
机器周期指完成一件*基本操作(取指令，读寄存器，写寄存器)*所需的时钟周期
**指令周期**
*一个指令是由多个基本操作组成*，来实现某种指令功能。

## 分频原理

**概念1：时钟线（CLock Bus）**
时钟线是一个抽象概念，是指，同一条线上的时钟频率相同。
一块MCU可以有多个时钟线。多个时钟线可以由不同的时钟源产生，也可以由分频器分出（后面讲）。
**概念2：时钟线的作用**
这条线上，可以挂载不同的外设，如Timer，GPIO，PWM等。
每当一个时钟源，产生了振动，其对应的时钟线会"振动"，时钟线上的外设就会干一点事儿。
时钟线不跳动，其上外设就啥也不做。
**概念3：分频器**
当一块MCU只有一个或者不多的时钟，而且又不是我们想要的频率，怎么办呢？
用分频器，可以将一条主时钟（一般是系统时钟），分成多条（一般由MCU决定数量），SYSCLK/n的频率。
那么，**主时钟频率=所有分时钟频率的累加**